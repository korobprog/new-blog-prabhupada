---
//import { type CollectionEntry, getCollection } from 'astro:content';
import BlogPost from "../../layouts/BlogPost.astro";
import type { Post } from "../../types/payload-types";

type Props = Post;

export async function getStaticPaths() {
  const response = await fetch("http://localhost:3000/api/posts?", {
    method: "GET",
  });
  const getpost = await response.json();
  return getpost.docs.map((post) => ({
    params: {
      slug: post.slug,
    },
    props: { post },
  }));
}

Astro.params;
const { post } = Astro.props;

// const { Content } = await post.render();
---

<BlogPost {...post} />
